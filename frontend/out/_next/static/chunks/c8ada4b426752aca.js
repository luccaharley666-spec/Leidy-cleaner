(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20150,e=>{"use strict";var a=e.i(9768),r=e.i(47392),l=e.i(8480);e.i(80164);var s=e.i(63716);function t(){let e=(0,l.useRouter)(),[r,t]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[c,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{let a=localStorage.getItem("token");if(!a)return void e.push("/login");let r=await fetch("http://localhost:3001/api/auth/profile",{headers:{Authorization:`Bearer ${a}`}});if(r.ok){let e=await r.json();x(e),t("authenticated")}else localStorage.removeItem("token"),e.push("/login")}catch(a){console.error("Erro ao verificar status:",a),e.push("/login")}finally{o(!1)}};return i?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):c?"customer"===c.role?(0,s.jsx)(d,{user:c}):"staff"===c.role||"professional"===c.role?(0,s.jsx)(n,{user:c}):"admin"===c.role?(0,s.jsx)(u,{user:c}):null:null}function d({user:e}){let[r,l]=(0,a.useState)("info"),[t,d]=(0,a.useState)(!1),[n,c]=(0,a.useState)({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""}),x=async()=>{try{let a=localStorage.getItem("token");(await fetch(`http://localhost:3001/api/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(n)})).ok&&(alert("Perfil atualizado com sucesso!"),d(!1))}catch(e){alert("Erro ao atualizar perfil")}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-emerald-50 dark:from-gray-900 dark:to-gray-950 py-8",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center text-white text-3xl shadow-lg",children:e.name?.charAt(0)||"ðŸ‘¤"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Cliente Premium"}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Membro desde ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,s.jsx)("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700 mb-6",children:[{id:"info",label:"InformaÃ§Ãµes",icon:"ðŸ“‹"},{id:"bookings",label:"Meus Agendamentos",icon:"ðŸ“…"},{id:"payments",label:"Pagamentos",icon:"ðŸ’³"}].map(e=>(0,s.jsxs)("button",{onClick:()=>l(e.id),className:`px-4 py-2 font-semibold transition-all ${r===e.id?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.icon," ",e.label]},e.id))}),"info"===r&&(0,s.jsx)("div",{children:t?(0,s.jsx)(o,{formData:n,setFormData:c,onSave:x,onCancel:()=>d(!1)}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsx)(i,{label:"Nome",value:e.name}),(0,s.jsx)(i,{label:"Email",value:e.email}),(0,s.jsx)(i,{label:"Telefone",value:e.phone||"-"}),(0,s.jsx)(i,{label:"EndereÃ§o",value:e.address||"-"})]}),(0,s.jsx)("button",{onClick:()=>d(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"âœï¸ Editar InformaÃ§Ãµes"})]})}),"bookings"===r&&(0,s.jsx)(p,{userId:e.id}),"payments"===r&&(0,s.jsx)(y,{userId:e.id})]})})})}function n({user:e}){let[l,t]=(0,a.useState)("info"),[d,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)({name:e.name||"",email:e.email||"",phone:e.phone||"",bio:e.bio||"",basePrice:e.basePrice||50,bankAccount:e.bankAccount||"",bankCode:e.bankCode||"",pixKey:e.pixKey||""}),u=async()=>{try{let a=localStorage.getItem("token");(await fetch(`http://localhost:3001/api/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(i)})).ok&&(alert("Perfil atualizado com sucesso!"),n(!1))}catch(e){alert("Erro ao atualizar perfil")}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-cyan-50 dark:from-gray-900 dark:to-gray-950 py-8",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-cyan-600 flex items-center justify-center text-white text-3xl shadow-lg",children:"ðŸ‘©â€ðŸ’¼"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Profissional de Limpeza"}),(0,s.jsx)("div",{className:"flex gap-4 mt-2",children:(0,s.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold",children:"â­ 4.8 (120 avaliaÃ§Ãµes)"})})]})]}),(0,s.jsx)(r.default,{href:"/staff/booking-requests",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"ðŸ“… Ver SolicitaÃ§Ãµes"})]}),(0,s.jsx)("div",{className:"flex gap-4 border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[{id:"info",label:"InformaÃ§Ãµes",icon:"ðŸ“‹"},{id:"pricing",label:"Tabela de PreÃ§os",icon:"ðŸ’°"},{id:"agenda",label:"Minha Agenda",icon:"ðŸ“…"},{id:"earnings",label:"Ganhos",icon:"ðŸ’µ"}].map(e=>(0,s.jsxs)("button",{onClick:()=>t(e.id),className:`px-4 py-2 font-semibold transition-all whitespace-nowrap ${l===e.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[e.icon," ",e.label]},e.id))}),"info"===l&&(0,s.jsxs)("div",{children:[d?(0,s.jsx)(c,{formData:i,setFormData:o,onSave:u,onCancel:()=>n(!1)}):(0,s.jsx)(x,{user:e,formData:i}),!d&&(0,s.jsx)("button",{onClick:()=>n(!0),className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"âœï¸ Editar InformaÃ§Ãµes"})]}),"pricing"===l&&(0,s.jsx)(m,{servicePrice:i.basePrice}),"agenda"===l&&(0,s.jsx)(g,{staffId:e.id}),"earnings"===l&&(0,s.jsx)(h,{staffId:e.id})]})})})}function i({label:e,value:a}){return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:e}),(0,s.jsx)("p",{className:"text-gray-900 dark:text-white mt-1",children:a})]})}function o({formData:e,setFormData:a,onSave:r,onCancel:l}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nome",value:e.name,onChange:r=>a({...e,name:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("input",{type:"email",placeholder:"Email",value:e.email,onChange:r=>a({...e,email:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("input",{type:"tel",placeholder:"Telefone",value:e.phone,onChange:r=>a({...e,phone:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("input",{type:"text",placeholder:"EndereÃ§o",value:e.address,onChange:r=>a({...e,address:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:r,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"ðŸ’¾ Salvar"}),(0,s.jsx)("button",{onClick:l,className:"px-6 py-2 border rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:"âŒ Cancelar"})]})]})}function c({formData:e,setFormData:a,onSave:r,onCancel:l}){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nome",value:e.name,onChange:r=>a({...e,name:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,s.jsx)("textarea",{placeholder:"Bio/DescriÃ§Ã£o",value:e.bio,onChange:r=>a({...e,bio:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",rows:"3"}),(0,s.jsx)("input",{type:"number",placeholder:"PreÃ§o Base (R$)",value:e.basePrice,onChange:r=>a({...e,basePrice:parseFloat(r.target.value)}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600",step:"0.01"}),(0,s.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3 text-yellow-900 dark:text-yellow-200",children:"ðŸ’° Dados para Recebimento"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold",children:"Chave PIX"}),(0,s.jsx)("input",{type:"text",placeholder:"Seu PIX (email, telefone, CPF ou chave aleatÃ³ria)",value:e.pixKey,onChange:r=>a({...e,pixKey:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 mt-1"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold",children:"Banco"}),(0,s.jsx)("input",{type:"text",placeholder:"CÃ³digo do banco",value:e.bankCode,onChange:r=>a({...e,bankCode:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-semibold",children:"Conta"}),(0,s.jsx)("input",{type:"text",placeholder:"NÃºmero da conta",value:e.bankAccount,onChange:r=>a({...e,bankAccount:r.target.value}),className:"w-full px-4 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 mt-1"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"ðŸ’¾ Salvar"}),(0,s.jsx)("button",{onClick:l,className:"px-6 py-2 border rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:"âŒ Cancelar"})]})]})}function x({user:e,formData:a}){return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(i,{label:"Nome",value:a.name}),(0,s.jsx)(i,{label:"Email",value:e.email}),(0,s.jsx)(i,{label:"Bio",value:a.bio||"-"}),(0,s.jsx)(i,{label:"PreÃ§o Base",value:`R$ ${a.basePrice?.toFixed(2)||"0.00"}`}),(0,s.jsx)(i,{label:"Chave PIX",value:a.pixKey||"-"}),(0,s.jsx)(i,{label:"Banco",value:a.bankCode||"-"})]})}function m({servicePrice:e=50}){return(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/30",children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"ServiÃ§o"}),(0,s.jsx)("th",{className:"px-4 py-3 text-center font-semibold",children:"DuraÃ§Ã£o"}),(0,s.jsx)("th",{className:"px-4 py-3 text-right font-semibold",children:"PreÃ§o"}),(0,s.jsx)("th",{className:"px-4 py-3 text-center font-semibold",children:"Status"})]})}),(0,s.jsx)("tbody",{children:[{name:"Limpeza BÃ¡sica (1h)",hours:1,multiplier:1},{name:"Limpeza PadrÃ£o (2h)",hours:2,multiplier:1},{name:"Limpeza Profunda (3h)",hours:3,multiplier:1.2},{name:"OrganizaÃ§Ã£o (2h)",hours:2,multiplier:1.3},{name:"Limpeza PÃ³s-Reforma (4h)",hours:4,multiplier:1.5}].map((a,r)=>{let l=e*a.hours*a.multiplier;return(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,s.jsx)("td",{className:"px-4 py-3",children:a.name}),(0,s.jsxs)("td",{className:"px-4 py-3 text-center",children:[a.hours," hora",a.hours>1?"s":""]}),(0,s.jsxs)("td",{className:"px-4 py-3 text-right font-semibold text-green-600",children:["R$ ",l.toFixed(2)]}),(0,s.jsx)("td",{className:"px-4 py-3 text-center",children:(0,s.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Ativo"})})]},r)})})]})})}function g({staffId:e}){let r=["SEG","TER","QUA","QUI","SEX","SÃB","DOM"],[l,t]=(0,a.useState)({});return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"ðŸ“… Minha Disponibilidade"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-blue-50 dark:bg-blue-900/30",children:[(0,s.jsx)("th",{className:"px-2 py-2",children:"HorÃ¡rio"}),r.map(e=>(0,s.jsx)("th",{className:"px-2 py-2",children:e},e))]})}),(0,s.jsx)("tbody",{children:["08:00","09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(e=>(0,s.jsxs)("tr",{className:"border-b dark:border-gray-700",children:[(0,s.jsx)("td",{className:"px-2 py-2 font-semibold",children:e}),r.map(a=>(0,s.jsx)("td",{className:"px-2 py-2 text-center",children:(0,s.jsx)("button",{className:"w-8 h-8 rounded bg-green-100 hover:bg-green-200 text-green-700 font-semibold transition",title:`${a} \xe0s ${e}`,children:"âœ“"})},`${a}-${e}`))]},e))})]})})]})}function h({staffId:e}){return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200",children:[(0,s.jsx)("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Este MÃªs"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"R$ 2.450,00"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200",children:[(0,s.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Acumulado"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"R$ 12.890,00"})]}),(0,s.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200",children:[(0,s.jsx)("p",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Agendamentos"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:"47"})]})]})})}function u({user:e}){return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-yellow-50 dark:from-gray-900 dark:to-gray-950 py-8",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-red-400 to-yellow-600 flex items-center justify-center text-white text-3xl shadow-lg",children:"ðŸ‘¨â€ðŸ’¼"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Administrador"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)(b,{title:"UsuÃ¡rios",value:"247",icon:"ðŸ‘¥"}),(0,s.jsx)(b,{title:"Agendamentos",value:"1,234",icon:"ðŸ“…"}),(0,s.jsx)(b,{title:"Profissionais",value:"48",icon:"ðŸ‘©â€ðŸ’¼"}),(0,s.jsx)(b,{title:"Receita",value:"R$ 45.2k",icon:"ðŸ’°"})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsx)(r.default,{href:"/admin-dashboard",className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"ðŸ› ï¸ Painel Admin"})})]})})})}function b({title:e,value:a,icon:r}){return(0,s.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:r}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a})]})}function p({userId:e}){return(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Seus agendamentos aparecerÃ£o aqui"})})}function y({userId:e}){return(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Seu histÃ³rico de pagamentos aparecerÃ¡ aqui"})})}e.s(["default",()=>t])},54096,(e,a,r)=>{let l="/minha-conta";(window.__NEXT_P=window.__NEXT_P||[]).push([l,()=>e.r(20150)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([l])})},60749,e=>{e.v(a=>Promise.all(["static/chunks/36862e276b3d2ae4.js"].map(a=>e.l(a))).then(()=>a(14028)))},72031,e=>{e.v(a=>Promise.all(["static/chunks/bab294b3010c353f.js"].map(a=>e.l(a))).then(()=>a(38439)))}]);