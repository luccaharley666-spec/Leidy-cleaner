{
  "metadata": {
    "timestamp": "2026-02-01T00:00:00Z",
    "repository": "/workspaces/vamos",
    "analysis_depth": "COMPLETO",
    "stack": ["Node.js/Express", "Next.js/React", "SQLite/PostgreSQL", "Socket.io"],
    "version": "1.0.0"
  },
  "summary": {
    "total_issues": 47,
    "total_improvements": 28,
    "total_risks": 15,
    "critical_count": 8,
    "high_count": 19,
    "medium_count": 15,
    "low_count": 5
  },
  "issues": [
    {
      "id": "SEC-001",
      "severity": "CRITICAL",
      "category": "Security",
      "title": "Hardcoded JWT secrets em fallback",
      "description": "JWT_SECRET utiliza fallback com string 'seu-secret-key-aqui' em middleware/auth.js e controllers. Em produÃ§Ã£o, secrets devem estar SEMPRE em .env",
      "file": "backend/src/middleware/auth.js",
      "line_range": "12-21",
      "impact": "Comprometimento da autenticaÃ§Ã£o de toda a aplicaÃ§Ã£o se .env nÃ£o for configurado",
      "code_example": "process.env.JWT_SECRET || 'seu-secret-key-aqui'",
      "fix": "Fazer falhar explicitamente se JWT_SECRET nÃ£o estiver definido em produÃ§Ã£o",
      "cwe": "CWE-798 (Use of Hard-Coded Credentials)"
    },
    {
      "id": "SEC-002",
      "severity": "CRITICAL",
      "category": "Security",
      "title": "Socket.io CORS aberto para '*' (wildcard)",
      "description": "Socket.io estÃ¡ configurado com cors.origin: '*' permitindo requisiÃ§Ãµes de qualquer domÃ­nio",
      "file": "backend/src/index.js",
      "line_range": "26-27",
      "impact": "CSRF, Cross-Site WebSocket Hijacking, consumo de recursos por bots",
      "code_example": "cors: { origin: '*', methods: ['GET', 'POST'] }",
      "fix": "Usar mesmo CORS_ORIGIN que Express: origin: process.env.CORS_ORIGIN",
      "cwe": "CWE-346 (Origin Validation Error)"
    },
    {
      "id": "SEC-003",
      "severity": "CRITICAL",
      "category": "Security",
      "title": "Sem validaÃ§Ã£o de input em Chat messages",
      "description": "ChatService salva mensagens direto no banco sem sanitizaÃ§Ã£o. VulnerÃ¡vel a XSS/injection",
      "file": "backend/src/services/ChatService.js",
      "line_range": "65-72",
      "impact": "XSS armazenado, injection SQL (se parametrizaÃ§Ã£o falhar), DoS por payload grande",
      "code_example": "INSERT INTO chat_messages ... VALUES ($1, $2, $3, $4)",
      "fix": "Validar tamanho mÃ¡ximo de mensagem, sanitizar conteÃºdo, usar DOMPurify no frontend",
      "cwe": "CWE-79 (Cross-site Scripting) + CWE-89 (SQL Injection)"
    },
    {
      "id": "SEC-004",
      "severity": "HIGH",
      "category": "Security",
      "title": "Sensitive data em console.log",
      "description": "Diversos console.log espalhados no cÃ³digo com informaÃ§Ãµes sensÃ­veis",
      "file": "backend/src/services/ChatService.js, SMSService.js",
      "line_range": "16,24,41,75,84",
      "impact": "Vazamento de IDs, detalhes de usuÃ¡rios em logs de produÃ§Ã£o",
      "code_example": "console.log(`ðŸ’¬ Mensagem em ${roomName}: ${message}`)",
      "fix": "Substituir por logger.debug() e desabilitar em produÃ§Ã£o",
      "cwe": "CWE-532 (Insertion of Sensitive Information into Log File)"
    },
    {
      "id": "SEC-005",
      "severity": "HIGH",
      "category": "Security",
      "title": "Rate limiting global muito permissivo",
      "description": "Rate limit de 100 requisiÃ§Ãµes em 15 minutos (6.7 req/s) Ã© muito alto. NÃ£o tem rate limiting especÃ­fico por endpoint",
      "file": "backend/src/index.js",
      "line_range": "37-45",
      "impact": "Brute force em login, enumeration de usuÃ¡rios, DoS em endpoints caros",
      "code_example": "windowMs: 15 * 60 * 1000, max: 100",
      "fix": "Usar 30 req/15min globalmente, 5 req/15min para /auth/login, 1000 req/min para /health",
      "cwe": "CWE-770 (Allocation of Resources Without Limits)"
    },
    {
      "id": "SEC-006",
      "severity": "HIGH",
      "category": "Security",
      "title": "Sem proteÃ§Ã£o CSRF em formulÃ¡rios",
      "description": "NÃ£o hÃ¡ tokens CSRF implementados em POST/PUT/DELETE requests",
      "file": "backend/src/index.js, routes/api.js",
      "line_range": "1-228",
      "impact": "CSRF attacks em operaÃ§Ãµes sensÃ­veis (criar agendamento, pagar, deletar dados)",
      "code_example": "router.post('/bookings', authenticateToken, validateBookingData, ...)",
      "fix": "Implementar csrf middleware (csurf) e validar tokens em cada POST/PUT/DELETE",
      "cwe": "CWE-352 (Cross-Site Request Forgery)"
    },
    {
      "id": "SEC-007",
      "severity": "HIGH",
      "category": "Security",
      "title": "Sem HTTPS em produÃ§Ã£o",
      "description": ".env.example e README ainda indicam usar http://localhost. ProduÃ§Ã£o deve ser https://",
      "file": ".env.example, README.md",
      "line_range": "1-50",
      "impact": "Man-in-the-middle attacks, roubo de tokens JWT, dados de pagamento interceptados",
      "code_example": "BASE_URL=http://localhost:3001",
      "fix": "Usar HTTPS em produÃ§Ã£o via Railway/Vercel, rediretar HTTP->HTTPS",
      "cwe": "CWE-295 (Improper Certificate Validation)"
    },
    {
      "id": "SEC-008",
      "severity": "HIGH",
      "category": "Security",
      "title": "Sem validaÃ§Ã£o de CPF/CNPJ real",
      "description": "CPF/CNPJ apenas verifica tamanho, nÃ£o valida dÃ­gitos verificadores",
      "file": "backend/src/controllers/AuthController.js",
      "line_range": "63-68",
      "impact": "Registros com CPF/CNPJ invÃ¡lidos, fraude, identificaÃ§Ã£o incorreta",
      "code_example": "if (cpf_cnpj && cpf_cnpj.replace(/\\D/g, '').length < 11)",
      "fix": "Implementar algoritmo de validaÃ§Ã£o de dÃ­gitos verificadores para CPF e CNPJ",
      "cwe": "CWE-1023 (Incomplete Verification of Syntactic Correctness)"
    },
    {
      "id": "PERF-001",
      "severity": "HIGH",
      "category": "Performance",
      "title": "N+1 queries no StaffController",
      "description": "getDashboard() faz 5 queries separadas quando deveria fazer 1 com JOINs",
      "file": "backend/src/controllers/StaffController.js",
      "line_range": "20-94",
      "impact": "LatÃªncia alta (50-200ms extra), consumo de conexÃµes DB, timeout em alta concorrÃªncia",
      "code_example": "query1: earnings; query2: monthly; query3: upcoming; query4: reviews; query5: streak",
      "fix": "Usar uma Ãºnica query com JOINs ou batch queries com Promise.all()",
      "cwe": "CWE-1025 (Comparison Using Wrong Factors)"
    },
    {
      "id": "PERF-002",
      "severity": "HIGH",
      "category": "Performance",
      "title": "Sem Ã­ndices de banco de dados",
      "description": "Schema.sql tem apenas 2 Ã­ndices. Faltam Ã­ndices em user_id, status, created_at em vÃ¡rias tabelas",
      "file": "database/schema.sql",
      "line_range": "100-104",
      "impact": "Full table scans, queries lentas com crescimento de dados, timeout",
      "code_example": "CREATE INDEX idx_bookings_user ON bookings(user_id);\nCREATE INDEX idx_bookings_date ON bookings(booking_date);",
      "fix": "Adicionar Ã­ndices: transactions(status), bookings(status), users(email), reviews(booking_id)",
      "cwe": "CWE-1025 (Comparison Using Wrong Factors)"
    },
    {
      "id": "PERF-003",
      "severity": "MEDIUM",
      "category": "Performance",
      "title": "Sem paginaÃ§Ã£o em endpoints de listagem",
      "description": "Alguns endpoints retornam todos os registros sem limit (ex: /admin/bookings-list)",
      "file": "backend/src/routes/api.js",
      "line_range": "120-130",
      "impact": "Resposta com MB de JSON, timeout, alto uso de memÃ³ria",
      "code_example": "router.get('/admin/bookings-list', authenticateToken, adminController.getBookingsList)",
      "fix": "Implementar default limit=50, max limit=200, e paginaÃ§Ã£o cursor-based",
      "cwe": "CWE-1025 (Comparison Using Wrong Factors)"
    },
    {
      "id": "PERF-004",
      "severity": "MEDIUM",
      "category": "Performance",
      "title": "DuplicaÃ§Ã£o de dependÃªncias bcrypt + bcryptjs",
      "description": "package.json tem ambos bcrypt (v6) e bcryptjs (v2.4.3) - causa bloat de 10MB+",
      "file": "backend/package.json",
      "line_range": "18-19",
      "impact": "Bundle size desnecessÃ¡rio, tempo de install maior",
      "code_example": "\"bcrypt\": \"^6.0.0\", \"bcryptjs\": \"^2.4.3\"",
      "fix": "Remover bcryptjs, usar apenas bcrypt ou vice-versa",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "CODE-001",
      "severity": "HIGH",
      "category": "Code Quality",
      "title": "CÃ³digo duplicado: sqlite3 wrapper em mÃºltiplos arquivos",
      "description": "BookingController, PaymentController, etc duplicam getDb(), runAsync(), getAsync(), allAsync()",
      "file": "backend/src/controllers/*.js",
      "line_range": "1-30",
      "impact": "Dificuldade de manutenÃ§Ã£o, bugs inconsistentes, cÃ³digo difÃ­cil de testar",
      "code_example": "BookingController:12-32, PaymentController:8-30",
      "fix": "Centralizar em utils/db-helpers.js e importar em todos controllers",
      "cwe": "CWE-1112 (Duplicate Variable Declaration)"
    },
    {
      "id": "CODE-002",
      "severity": "HIGH",
      "category": "Code Quality",
      "title": "Falta de error handling em promises sem catch",
      "description": "Scheduler.init() em index.js sem try/catch, promises nÃ£o retornam erros",
      "file": "backend/src/index.js",
      "line_range": "117-122",
      "impact": "Crashes silenciosos, aplicaÃ§Ã£o para sem avisar",
      "code_example": "Scheduler.init(); // sem try/catch",
      "fix": "Adicionar .catch() ou async/await com try/catch",
      "cwe": "CWE-391 (Unchecked Error Condition)"
    },
    {
      "id": "CODE-003",
      "severity": "HIGH",
      "category": "Code Quality",
      "title": "Sem validaÃ§Ã£o de tipos/TypeScript",
      "description": "Projeto todo em JavaScript sem tipos. Sem JSDoc, sem validaÃ§Ã£o de schemas",
      "file": "backend/src/**/*.js",
      "line_range": "1-end",
      "impact": "Bugs em runtime, refatoraÃ§Ã£o perigosa, dificuldade para onboarding",
      "code_example": "static async register(req, res) { // nenhuma tipagem",
      "fix": "Migrar para TypeScript ou adicionar JSDoc + Zod/Joi para validaÃ§Ã£o",
      "cwe": "CWE-1023 (Incomplete Verification of Syntactic Correctness)"
    },
    {
      "id": "CODE-004",
      "severity": "MEDIUM",
      "category": "Code Quality",
      "title": "Uso de Math.random() para IDs",
      "description": "BookingService usa Math.random().toString(36) para gerar IDs",
      "file": "backend/src/services/BookingService.js",
      "line_range": "32",
      "impact": "ColisÃ£o de IDs possÃ­vel, previsibilidade, nÃ£o Ã© seguro",
      "code_example": "id: Math.random().toString(36).substr(2, 9)",
      "fix": "Usar uuid/nanoid ou SERIAL do banco de dados",
      "cwe": "CWE-338 (Use of Cryptographically Weak Pseudo-Random Number Generator)"
    },
    {
      "id": "CODE-005",
      "severity": "MEDIUM",
      "category": "Code Quality",
      "title": "Sem validaÃ§Ã£o de dados em request body",
      "description": "Controllers acessam req.body diretamente sem validar tipos/ranges",
      "file": "backend/src/controllers/BookingController.js",
      "line_range": "47-65",
      "impact": "Type confusion, overflow de nÃºmeros, SQL injection",
      "code_example": "const { durationHours = 2, hasStaff = true } = req.body;",
      "fix": "Usar middleware Joi ou Zod antes de chegar no controller",
      "cwe": "CWE-1025 (Comparison Using Wrong Factors)"
    },
    {
      "id": "CODE-006",
      "severity": "MEDIUM",
      "category": "Code Quality",
      "title": "FunÃ§Ãµes muito longas (>150 linhas)",
      "description": "AuthController.register() tem 300+ linhas, StaffController.getDashboard() 94 linhas",
      "file": "backend/src/controllers/AuthController.js",
      "line_range": "1-364",
      "impact": "DifÃ­cil de testar, bugs escondidos, manutenÃ§Ã£o complexa",
      "code_example": "static async register(req, res) { ... } // 300 linhas de cÃ³digo",
      "fix": "Extrair lÃ³gica em service layer, dividir em funÃ§Ãµes menores",
      "cwe": "CWE-1066 (Process-local Variable Modification)"
    },
    {
      "id": "CODE-007",
      "severity": "MEDIUM",
      "category": "Code Quality",
      "title": "Enums e constantes espalhados",
      "description": "Status strings ('pending', 'confirmed', 'completed') duplicados em mÃºltiplos arquivos",
      "file": "backend/src/**/*.js",
      "line_range": "varies",
      "impact": "InconsistÃªncia, typos causam bugs, refatoraÃ§Ã£o complicada",
      "code_example": "status: 'pending' vs status: 'pending' vs status: 'awaiting'",
      "fix": "Criar arquivo constants.js com enums centralizados",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DB-001",
      "severity": "HIGH",
      "category": "Database",
      "title": "Schema.sql sem constraints adequados",
      "description": "Faltam NOT NULL, UNIQUE, FOREIGN KEY constraints em mÃºltiplas colunas",
      "file": "database/schema.sql",
      "line_range": "1-104",
      "impact": "Dados inconsistentes, Ã³rfÃ£os sem avÃ³, queries ambÃ­guas",
      "code_example": "CREATE TABLE users (... email VARCHAR(255) UNIQUE NOT NULL ...)",
      "fix": "Adicionar ON DELETE CASCADE, CHECK constraints, defaults apropriados",
      "cwe": "CWE-1023 (Incomplete Verification of Syntactic Correctness)"
    },
    {
      "id": "DB-002",
      "severity": "MEDIUM",
      "category": "Database",
      "title": "Sem versionamento de migrations",
      "description": "migrations.sql Ã© um arquivo Ãºnico sem controle de versÃ£o ou rollback",
      "file": "database/migrations.sql",
      "line_range": "1-end",
      "impact": "ImpossÃ­vel fazer rollback, conflitos em merge, desync entre ambientes",
      "code_example": "# Arquivo monolÃ­tico sem versÃ£o",
      "fix": "Usar ferramenta como Flyway, Liquibase ou script com timestamps (001_init.sql)",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DB-003",
      "severity": "MEDIUM",
      "category": "Database",
      "title": "Sem backup/recovery strategy",
      "description": "Sem polÃ­tica de backups, sem disaster recovery plan documentado",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Perda total de dados em caso de falha de hardware",
      "code_example": "N/A",
      "fix": "Implementar backup automÃ¡tico daily + point-in-time recovery",
      "cwe": "CWE-544 (Missing Standardized Error Handling Mechanism)"
    },
    {
      "id": "ARCH-001",
      "severity": "HIGH",
      "category": "Architecture",
      "title": "Sem layer de services consolidado",
      "description": "LÃ³gica de negÃ³cio espalhada entre controllers e services, sem pattern consistente",
      "file": "backend/src/controllers/*.js, services/*.js",
      "line_range": "varies",
      "impact": "CÃ³digo nÃ£o testÃ¡vel, lÃ³gica duplicada, difÃ­cil manutenÃ§Ã£o",
      "code_example": "Controller faz queries direto, Service faz queries tambÃ©m",
      "fix": "Implementar Service -> Repository -> Database pattern",
      "cwe": "CWE-1057 (Data Flow Through Stack Variable)"
    },
    {
      "id": "ARCH-002",
      "severity": "MEDIUM",
      "category": "Architecture",
      "title": "Sem retry logic em chamadas externas",
      "description": "Stripe, Twilio, Google Calendar - sem retry, timeout ou circuit breaker",
      "file": "backend/src/services/*.js",
      "line_range": "varies",
      "impact": "TransaÃ§Ãµes falhadas por timeout temporÃ¡rio, experiÃªncia ruim",
      "code_example": "await stripe.charges.create(...) // sem retry",
      "fix": "Usar biblioteca como p-retry ou implementar exponential backoff",
      "cwe": "CWE-755 (Improper Handling of Exceptional Conditions)"
    },
    {
      "id": "TEST-001",
      "severity": "HIGH",
      "category": "Testing",
      "title": "Cobertura de testes muito baixa (<10%)",
      "description": "Apenas 7 test files para ~30 controllers/services. Jest sem thresholds",
      "file": "backend/jest.config.js",
      "line_range": "1-14",
      "impact": "Bugs em produÃ§Ã£o, refatoraÃ§Ã£o perigosa, regressÃµes",
      "code_example": "// commentado: coverageThreshold: { global: { lines: 30 } }",
      "fix": "Aumentar cobertura para min 70%, adicionar integration tests",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "TEST-002",
      "severity": "MEDIUM",
      "category": "Testing",
      "title": "Sem testes end-to-end (E2E)",
      "description": "Sem Cypress, Selenium ou Playwright para testar fluxos completos",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Bugs em integraÃ§Ã£o frontend-backend, UX problems",
      "code_example": "N/A",
      "fix": "Adicionar E2E tests para critical paths (login, booking, payment)",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "TEST-003",
      "severity": "MEDIUM",
      "category": "Testing",
      "title": "Sem testes de seguranÃ§a",
      "description": "Sem OWASP security tests, pen testing, vulnerability scanning",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Vulnerabilidades descobertas em produÃ§Ã£o, compliance issues",
      "code_example": "N/A",
      "fix": "Usar OWASP ZAP, npm audit, semgrep para scanning automÃ¡tico",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DOCS-001",
      "severity": "MEDIUM",
      "category": "Documentation",
      "title": "Sem API documentation estruturada",
      "description": "Sem OpenAPI/Swagger, JSDoc incompleto, endpoints espalhados",
      "file": "docs/API.md",
      "line_range": "1-end",
      "impact": "Desenvolvedor novo leva semanas para entender API",
      "code_example": "N/A",
      "fix": "Usar Swagger/OpenAPI 3.0 ou AsyncAPI para documenting",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DOCS-002",
      "severity": "MEDIUM",
      "category": "Documentation",
      "title": "Sem architecture decision records (ADRs)",
      "description": "Nenhum documento explicando why de decisÃµes (SQLite vs PostgreSQL, etc)",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Conhecimento perdido, refatoraÃ§Ã£o incorreta, tech debt invisÃ­vel",
      "code_example": "N/A",
      "fix": "Criar docs/adr/ com ADRs sobre cada decisÃ£o arquitetural",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "MONITOR-001",
      "severity": "HIGH",
      "category": "Operations",
      "title": "Sem monitoring/observability",
      "description": "Sem APM (Datadog, New Relic), sem metrics, sem tracing distribuÃ­do",
      "file": "backend/src/index.js",
      "line_range": "1-140",
      "impact": "ImpossÃ­vel debugar issues em produÃ§Ã£o, latÃªncia desconhecida",
      "code_example": "N/A",
      "fix": "Integrar Sentry (errors), Datadog (metrics), OpenTelemetry (tracing)",
      "cwe": "CWE-1113 (Inappropriate Comment"
    },
    {
      "id": "MONITOR-002",
      "severity": "MEDIUM",
      "category": "Operations",
      "title": "Sem health checks adequados",
      "description": "/health e /health/db existem mas nÃ£o checam todos serviÃ§os (Redis, Stripe, etc)",
      "file": "backend/src/utils/health.js",
      "line_range": "1-end",
      "impact": "Load balancer pode rotear para instÃ¢ncia down",
      "code_example": "GET /health retorna OK mesmo se Redis estÃ¡ down",
      "fix": "Expandir health checks para todas dependÃªncias, usar liveness + readiness probes",
      "cwe": "CWE-544 (Missing Standardized Error Handling Mechanism)"
    },
    {
      "id": "ENV-001",
      "severity": "HIGH",
      "category": "Environment",
      "title": "Sem .env validation no startup",
      "description": "App nÃ£o valida que todas ENV vars obrigatÃ³rias estÃ£o presentes no inÃ­cio",
      "file": "backend/src/index.js",
      "line_range": "1-10",
      "impact": "App inicia com config incompleta, erros aleatÃ³rios em runtime",
      "code_example": "require('dotenv').config(); // sem validaÃ§Ã£o",
      "fix": "Usar biblioteca dotenv-safe ou validar com Zod no app startup",
      "cwe": "CWE-756 (Missing Custom Error Page)"
    },
    {
      "id": "ENV-002",
      "severity": "MEDIUM",
      "category": "Environment",
      "title": "Exemplo .env muito simplificado",
      "description": ".env.example nÃ£o tem comentÃ¡rios, nÃ£o explica valores obrigatÃ³rios vs opcionais",
      "file": ".env.example",
      "line_range": "1-end",
      "impact": "Desenvolvedor novo configura errado, funcionalidades nÃ£o funcionam",
      "code_example": "SMTP_USER=seu-email@gmail.com # Sem explicaÃ§Ã£o de APP_PASSWORD",
      "fix": "Adicionar comentÃ¡rios detalhados, valores de exemplo realistas",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DEP-001",
      "severity": "MEDIUM",
      "category": "Dependencies",
      "title": "VersÃµes pinadas sÃ£o muito antigas",
      "description": "Next.js 13.4.0 (2023), React 18.2.0 (2023), Express 4.18.2 (2022)",
      "file": "frontend/package.json, backend/package.json",
      "line_range": "varies",
      "impact": "Security vulnerabilities, performance issues, features nÃ£o disponÃ­veis",
      "code_example": "\"next\": \"^13.4.0\", \"react\": \"^18.2.0\"",
      "fix": "Atualizar para latest: Next.js 14, React 18.3, Express 4.19",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "DEP-002",
      "severity": "MEDIUM",
      "category": "Dependencies",
      "title": "Sem npm audit ou dependabot configurado",
      "description": "Sem verificaÃ§Ã£o automÃ¡tica de vulnerabilidades em dependÃªncias",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Zero-day vulnerabilities em produÃ§Ã£o atÃ© serem descobertas",
      "code_example": "N/A",
      "fix": "Ativar GitHub dependabot, rodar npm audit em CI/CD",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "A11Y-001",
      "severity": "MEDIUM",
      "category": "Accessibility",
      "title": "Sem atributos ARIA em componentes",
      "description": "HTML inline em index.html nÃ£o tem aria-labels, alt text em imagens",
      "file": "public/index.html",
      "line_range": "varies",
      "impact": "InacessÃ­vel para leitores de tela, nÃ£o compliant WCAG 2.1",
      "code_example": "<button class='btn-primary'>Login</button> <!-- sem aria-label -->",
      "fix": "Adicionar aria-*, alt text, keyboard navigation",
      "cwe": "CWE-1024 (Comparison Using Wrong Factors)"
    },
    {
      "id": "A11Y-002",
      "severity": "LOW",
      "category": "Accessibility",
      "title": "Sem dark mode support",
      "description": "AplicaÃ§Ã£o sÃ³ suporta light mode, cores de alto contraste nÃ£o testadas",
      "file": "public/index.html, frontend/src/styles/",
      "line_range": "varies",
      "impact": "UsuÃ¡rios com problemas de visÃ£o tÃªm dificuldade",
      "code_example": "background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);",
      "fix": "Implementar prefers-color-scheme media query",
      "cwe": "CWE-1024 (Comparison Using Wrong Factors)"
    },
    {
      "id": "CI-CD-001",
      "severity": "HIGH",
      "category": "CI/CD",
      "title": "Sem CI/CD pipeline configurado",
      "description": "Nenhum arquivo .github/workflows, nÃ£o hÃ¡ automaÃ§Ã£o de teste/build/deploy",
      "file": "N/A",
      "line_range": "N/A",
      "impact": "Deploy manual propenso a erros, testes nÃ£o rodam automaticamente",
      "code_example": "N/A",
      "fix": "Criar workflow GitHub Actions: lint -> test -> build -> deploy",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "CI-CD-002",
      "severity": "MEDIUM",
      "category": "CI/CD",
      "title": "Sem linting/formatting forÃ§ado",
      "description": "eslint configurado mas nÃ£o roda em pre-commit ou CI",
      "file": "backend/package.json, frontend/package.json",
      "line_range": "varies",
      "impact": "InconsistÃªncia de cÃ³digo, style debates",
      "code_example": "\"lint\": \"eslint .\" # nÃ£o obrigatÃ³rio",
      "fix": "Adicionar husky + lint-staged para pre-commit hooks",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "INFRA-001",
      "severity": "MEDIUM",
      "category": "Infrastructure",
      "title": "Docker nÃ£o estÃ¡ otimizado",
      "description": "Multi-stage builds nÃ£o usados, node_modules copiados ao invÃ©s de reinstalado",
      "file": "config/docker/Dockerfile.backend, Dockerfile.frontend",
      "line_range": "varies",
      "impact": "Imagens grandes (500MB+), slow startup",
      "code_example": "COPY . . # copia tudo incluindo node_modules",
      "fix": "Usar multi-stage, .dockerignore, reinstalar dependÃªncias",
      "cwe": "CWE-1104 (Use of Unmaintained Third Party Components)"
    },
    {
      "id": "INFRA-002",
      "severity": "LOW",
      "category": "Infrastructure",
      "title": "Sem resource limits em docker-compose",
      "description": "Containers podem consumir 100% CPU/RAM sem limite",
      "file": "docker-compose.yml",
      "line_range": "1-30",
      "impact": "Um container pode matar outros, Out of Memory killer",
      "code_example": "backend: { ... } # sem limits",
      "fix": "Adicionar deploy.resources.limits em cada serviÃ§o",
      "cwe": "CWE-770 (Allocation of Resources Without Limits)"
    }
  ],
  "improvements": [
    {
      "id": "IMP-001",
      "priority": "CRITICAL",
      "category": "Security",
      "title": "Implementar OWASP Top 10 Security Headers",
      "description": "Adicionar Content-Security-Policy, X-Frame-Options, X-Content-Type-Options, Strict-Transport-Security",
      "impact": "Protege contra XSS, Clickjacking, MIME type sniffing",
      "effort": "2 horas",
      "files_affected": ["backend/src/index.js"]
    },
    {
      "id": "IMP-002",
      "priority": "CRITICAL",
      "category": "Architecture",
      "title": "Refatorar para Service Pattern consistente",
      "description": "Criar Service -> Repository -> Database pattern, remover lÃ³gica de controllers",
      "impact": "CÃ³digo testÃ¡vel, reutilizÃ¡vel, maintÃ­vel",
      "effort": "2-3 dias",
      "files_affected": ["backend/src/controllers/**/*.js", "backend/src/services/**/*.js"]
    },
    {
      "id": "IMP-003",
      "priority": "HIGH",
      "category": "Performance",
      "title": "Implementar caching com Redis",
      "description": "Cache de queries frequentes, sessions em Redis ao invÃ©s de memoria",
      "impact": "Reduz latÃªncia 50%, suporta mÃºltiplas instÃ¢ncias",
      "effort": "1-2 dias",
      "files_affected": ["backend/src/db/**", "backend/src/services/**"]
    },
    {
      "id": "IMP-004",
      "priority": "HIGH",
      "category": "Testing",
      "title": "Adicionar E2E tests com Cypress",
      "description": "Testes automatizados para fluxos crÃ­ticos: login, booking, payment",
      "impact": "DetecÃ§Ã£o de regressÃµes, confianÃ§a em deploy",
      "effort": "2-3 dias",
      "files_affected": ["cypress/e2e/*.spec.js"]
    },
    {
      "id": "IMP-005",
      "priority": "HIGH",
      "category": "Operations",
      "title": "Implementar structured logging com Winston",
      "description": "Log JSON com context, trace IDs para correlacionar requests",
      "impact": "Debugging facilitado, compliance com padrÃµes",
      "effort": "1 dia",
      "files_affected": ["backend/src/utils/logger.js"]
    },
    {
      "id": "IMP-006",
      "priority": "HIGH",
      "category": "Database",
      "title": "Implementar versionamento de migrations com Knex",
      "description": "Migrar de migrations.sql para numbered files com rollback",
      "impact": "SeguranÃ§a em deploy, rollback confiÃ¡vel",
      "effort": "1-2 dias",
      "files_affected": ["database/migrations/**"]
    },
    {
      "id": "IMP-007",
      "priority": "MEDIUM",
      "category": "Code Quality",
      "title": "Migrar para TypeScript",
      "description": "Adicionar type safety, remover jsdoc manual",
      "impact": "Menos bugs, melhor IDE support",
      "effort": "3-5 dias",
      "files_affected": ["backend/src/**/*.js"]
    },
    {
      "id": "IMP-008",
      "priority": "MEDIUM",
      "category": "Testing",
      "title": "Aumentar cobertura de testes para 70%+",
      "description": "Adicionar unit tests para services, integration tests para APIs",
      "impact": "ConfianÃ§a em refatoraÃ§Ã£o",
      "effort": "2-3 dias",
      "files_affected": ["backend/src/__tests__/**"]
    },
    {
      "id": "IMP-009",
      "priority": "MEDIUM",
      "category": "Documentation",
      "title": "Implementar OpenAPI 3.0 com Swagger UI",
      "description": "DocumentaÃ§Ã£o interativa dos endpoints",
      "impact": "Onboarding facilitado, less support questions",
      "effort": "1-2 dias",
      "files_affected": ["docs/api/**", "backend/src/swagger/**"]
    },
    {
      "id": "IMP-010",
      "priority": "MEDIUM",
      "category": "Operations",
      "title": "Implementar APM com Sentry/Datadog",
      "description": "Rastrear erros, performance, anÃ¡lise de causas raiz",
      "impact": "DetecÃ§Ã£o rÃ¡pida de problemas",
      "effort": "1-2 dias",
      "files_affected": ["backend/src/index.js"]
    },
    {
      "id": "IMP-011",
      "priority": "MEDIUM",
      "category": "Infrastructure",
      "title": "Otimizar Docker builds",
      "description": "Multi-stage, layer caching, .dockerignore",
      "impact": "Imagens 50% menores, builds 10x mais rÃ¡pidos",
      "effort": "4 horas",
      "files_affected": ["config/docker/Dockerfile.*"]
    },
    {
      "id": "IMP-012",
      "priority": "MEDIUM",
      "category": "Dependencies",
      "title": "Atualizar para versÃµes latest",
      "description": "Next.js 14, React 18.3, Express 4.19, etc",
      "impact": "SeguranÃ§a, performance, suporte",
      "effort": "1-2 dias",
      "files_affected": ["backend/package.json", "frontend/package.json"]
    },
    {
      "id": "IMP-013",
      "priority": "MEDIUM",
      "category": "Performance",
      "title": "Implementar Query Optimization",
      "description": "Indexes em todas FK, query analysis, batch operations",
      "impact": "Queries 10-100x mais rÃ¡pidas",
      "effort": "1-2 dias",
      "files_affected": ["database/schema.sql"]
    },
    {
      "id": "IMP-014",
      "priority": "MEDIUM",
      "category": "Security",
      "title": "Implementar autenticaÃ§Ã£o 2FA",
      "description": "TOTP ou SMS-based 2FA para users sensÃ­veis",
      "impact": "ProteÃ§Ã£o contra credential stuffing",
      "effort": "1-2 dias",
      "files_affected": ["backend/src/controllers/AuthController.js"]
    },
    {
      "id": "IMP-015",
      "priority": "LOW",
      "category": "Accessibility",
      "title": "Implementar dark mode",
      "description": "Suportar prefers-color-scheme",
      "impact": "UX melhorada para usuÃ¡rios com problemas visuais",
      "effort": "4-6 horas",
      "files_affected": ["public/index.html", "frontend/src/styles/**"]
    },
    {
      "id": "IMP-016",
      "priority": "LOW",
      "category": "Documentation",
      "title": "Criar ADRs (Architecture Decision Records)",
      "description": "Documentar decisÃµes de design para referÃªncia futura",
      "impact": "Conhecimento centralizado",
      "effort": "1 dia",
      "files_affected": ["docs/adr/**"]
    },
    {
      "id": "IMP-017",
      "priority": "LOW",
      "category": "Code Quality",
      "title": "Implementar pre-commit hooks com husky",
      "description": "Lint, format, testes rodam antes de commit",
      "impact": "Qualidade de cÃ³digo consistente",
      "effort": "2-4 horas",
      "files_affected": [".husky/**", ".prettierrc"]
    },
    {
      "id": "IMP-018",
      "priority": "HIGH",
      "category": "CI/CD",
      "title": "Configurar GitHub Actions para CI/CD",
      "description": "Lint, test, build, deploy automÃ¡tico",
      "impact": "Deploy seguro, feedback rÃ¡pido",
      "effort": "2-4 horas",
      "files_affected": [".github/workflows/**"]
    },
    {
      "id": "IMP-019",
      "priority": "HIGH",
      "category": "Performance",
      "title": "Implementar Pagination em todos endpoints",
      "description": "Cursor-based pagination para datasets grandes",
      "impact": "Escalabilidade, reduz uso de memÃ³ria",
      "effort": "1-2 dias",
      "files_affected": ["backend/src/controllers/**"]
    },
    {
      "id": "IMP-020",
      "priority": "MEDIUM",
      "category": "Security",
      "title": "Implementar rate limiting granular",
      "description": "Limites diferentes por endpoint, por usuÃ¡rio, por IP",
      "impact": "ProteÃ§Ã£o contra brute force, DoS",
      "effort": "1 dia",
      "files_affected": ["backend/src/middleware/**"]
    },
    {
      "id": "IMP-021",
      "priority": "MEDIUM",
      "category": "Database",
      "title": "Implementar soft deletes",
      "description": "Adicionar deleted_at para manter dados histÃ³ricos",
      "impact": "Compliance, auditoria",
      "effort": "1-2 dias",
      "files_affected": ["database/schema.sql"]
    },
    {
      "id": "IMP-022",
      "priority": "MEDIUM",
      "category": "Operations",
      "title": "Implementar database backups automÃ¡ticos",
      "description": "Daily backups com ponto-de-restauraÃ§Ã£o",
      "impact": "Disaster recovery",
      "effort": "4-6 horas",
      "files_affected": ["config/backup/**"]
    },
    {
      "id": "IMP-023",
      "priority": "MEDIUM",
      "category": "Code Quality",
      "title": "Implementar error boundary no frontend",
      "description": "Capturar erros React para melhor UX",
      "impact": "Sem tela branca, logging de erros",
      "effort": "4 horas",
      "files_affected": ["frontend/src/components/ErrorBoundary.js"]
    },
    {
      "id": "IMP-024",
      "priority": "MEDIUM",
      "category": "Security",
      "title": "Implementar CSRF protection",
      "description": "Usar csurf middleware para POST/PUT/DELETE",
      "impact": "ProteÃ§Ã£o contra CSRF attacks",
      "effort": "1-2 dias",
      "files_affected": ["backend/src/middleware/**"]
    },
    {
      "id": "IMP-025",
      "priority": "LOW",
      "category": "Documentation",
      "title": "Criar guia de contribuiÃ§Ã£o",
      "description": "CONTRIBUTING.md com coding standards, review process",
      "impact": "Onboarding facilitado para novos devs",
      "effort": "2-4 horas",
      "files_affected": ["CONTRIBUTING.md"]
    },
    {
      "id": "IMP-026",
      "priority": "LOW",
      "category": "Infrastructure",
      "title": "Configurar monitoring de recursos",
      "description": "CPU, memÃ³ria, disco em cada container",
      "impact": "Alertas proativos",
      "effort": "4 horas",
      "files_affected": ["config/monitoring/**"]
    },
    {
      "id": "IMP-027",
      "priority": "MEDIUM",
      "category": "Operations",
      "title": "Implementar graceful shutdown",
      "description": "Fechar conexÃµes DB, finalizar requests em progresso",
      "impact": "Zero downtime deploys",
      "effort": "4-6 horas",
      "files_affected": ["backend/src/index.js"]
    },
    {
      "id": "IMP-028",
      "priority": "LOW",
      "category": "Code Quality",
      "title": "Implementar input sanitization",
      "description": "DOMPurify no frontend, sanitize-html no backend",
      "impact": "ProteÃ§Ã£o contra XSS armazenado",
      "effort": "1 dia",
      "files_affected": ["backend/src/utils/**", "frontend/src/utils/**"]
    }
  ],
  "risks": [
    {
      "id": "RISK-001",
      "severity": "CRITICAL",
      "title": "Database is single point of failure",
      "description": "Sem replicaÃ§Ã£o ou backup automÃ¡tico. Falha de disco = perda total de dados",
      "impact": "Business continuity quebrada, legal liability",
      "mitigation": "Implementar backups contÃ­nuos com Supabase PITR, replicaÃ§Ã£o master-slave"
    },
    {
      "id": "RISK-002",
      "severity": "CRITICAL",
      "title": "Production deployment manual and error-prone",
      "description": "Sem CI/CD, deploy feito manualmente via terminal",
      "impact": "Downtime acidental, versÃµes erradas deployadas",
      "mitigation": "Implementar GitHub Actions ou GitLab CI com automated testing"
    },
    {
      "id": "RISK-003",
      "severity": "HIGH",
      "title": "Secrets exposed in .env.example",
      "description": ".env example tem dummy values que podem ser usados acidentalmente",
      "impact": "Credenciais vazadas em repo pÃºblico",
      "mitigation": "Usar .env.local para local, secrets manager em produÃ§Ã£o (Vault, AWS Secrets Manager)"
    },
    {
      "id": "RISK-004",
      "severity": "HIGH",
      "title": "No API rate limiting per user",
      "description": "Um usuÃ¡rio malicioso pode consumir todos recursos",
      "impact": "Denial of service para outros usuÃ¡rios",
      "mitigation": "Implementar rate limit por user_id + IP com Redis"
    },
    {
      "id": "RISK-005",
      "severity": "HIGH",
      "title": "Chat messages stored without encryption",
      "description": "Mensagens sensÃ­veis (endereÃ§os, nÃºmeros) em plain text",
      "impact": "ViolaÃ§Ã£o de privacidade, LGPD non-compliance",
      "mitigation": "Implementar encryption at-rest com libsodium"
    },
    {
      "id": "RISK-006",
      "severity": "HIGH",
      "title": "Payment data handling non-compliant with PCI-DSS",
      "description": "Sem tokenizaÃ§Ã£o, sem conformidade PCI, dados sensÃ­veis no DB",
      "impact": "Fraude, compliance violation, legal action",
      "mitigation": "Usar Stripe/MercadoPago hosted forms, nunca armazenar card data"
    },
    {
      "id": "RISK-007",
      "severity": "MEDIUM",
      "title": "Session fixation vulnerability",
      "description": "JWT tokens gerados mas nÃ£o invalidados apÃ³s logout",
      "impact": "Reuso de tokens antigos apÃ³s logout",
      "mitigation": "Manter token blacklist em Redis, validar em cada request"
    },
    {
      "id": "RISK-008",
      "severity": "MEDIUM",
      "title": "Unvalidated file uploads",
      "description": "Multer aceita uploads sem validaÃ§Ã£o de tipo/tamanho",
      "file": "backend/src/routes/api.js",
      "impact": "Arbitrary file upload, RCE, disk exhaustion",
      "mitigation": "Validar MIME type, tamanho mÃ¡ximo 5MB, renomear com UUID"
    },
    {
      "id": "RISK-009",
      "severity": "MEDIUM",
      "title": "No GDPR/LGPD deletion policy",
      "description": "Sem direito ao esquecimento, dados nunca sÃ£o deletados",
      "impact": "Legal compliance violation",
      "mitigation": "Implementar soft delete, auto-deletion apÃ³s X dias de inatividade"
    },
    {
      "id": "RISK-010",
      "severity": "MEDIUM",
      "title": "Third-party dependencies not monitored",
      "description": "Sem Snyk/Dependabot, vulnerabilidades nÃ£o detectadas",
      "impact": "Zero-day exploits em produÃ§Ã£o",
      "mitigation": "Ativar GitHub Dependabot, rodar npm audit em CI/CD"
    },
    {
      "id": "RISK-011",
      "severity": "MEDIUM",
      "title": "Memory leak in Socket.io connections",
      "description": "Connections nÃ£o sÃ£o fechadas adequadamente",
      "impact": "Memory leak gradual, eventual crash",
      "mitigation": "Implementar proper cleanup em disconnect handlers"
    },
    {
      "id": "RISK-012",
      "severity": "LOW",
      "title": "No rollback strategy for deployments",
      "description": "Sem ability para voltar a versÃ£o anterior",
      "impact": "Rollback manual e lento",
      "mitigation": "Usar blue-green deployment, keep last 3 versions"
    },
    {
      "id": "RISK-013",
      "severity": "LOW",
      "title": "Documentation is outdated",
      "description": "README fala de features nÃ£o implementadas",
      "impact": "ConfusÃ£o para novos desenvolvedores",
      "mitigation": "Manter docs in sync com cÃ³digo, usar Docs-as-Code"
    },
    {
      "id": "RISK-014",
      "severity": "LOW",
      "title": "No incident response plan",
      "description": "Sem runbooks, ninguÃ©m sabe o que fazer se site cair",
      "impact": "Resposta lenta a incidentes",
      "mitigation": "Criar runbooks para cenÃ¡rios comuns (DB down, API rate limited, etc)"
    },
    {
      "id": "RISK-015",
      "severity": "LOW",
      "title": "Passwords for integrations hardcoded in services",
      "description": "Email/SMS credentials em PlainText em ServiceFiles",
      "impact": "Credential leak if repo compromised",
      "mitigation": "Move all credentials to .env, use environment-based config"
    }
  ],
  "recommendations": [
    {
      "priority": "IMMEDIATE (Week 1)",
      "items": [
        "Fix hardcoded secrets: Use env.required() pattern, fail fast if missing",
        "Fix Socket.io CORS: Use CORS_ORIGIN from env",
        "Add input validation: Implement Zod schema for all endpoints",
        "Run security audit: npm audit, npm outdated",
        "Setup pre-commit hooks: ESLint + Prettier"
      ]
    },
    {
      "priority": "SHORT-TERM (Weeks 2-3)",
      "items": [
        "Migrate to TypeScript: Start with shared types, gradually convert files",
        "Implement rate limiting: Per-user, per-IP, per-endpoint granular limits",
        "Add comprehensive logging: Structured JSON logs with trace IDs",
        "Setup GitHub Actions: Lint â†’ Test â†’ Build â†’ Deploy pipeline",
        "Implement database indexes: Add indexes on all FK, status, created_at"
      ]
    },
    {
      "priority": "MEDIUM-TERM (Months 1-2)",
      "items": [
        "Implement E2E tests: Cypress for critical paths",
        "Add APM monitoring: Sentry for errors, Datadog for metrics",
        "Database versioning: Migrate to numbered migrations with rollback",
        "Setup backups: Daily automated backups with point-in-time recovery",
        "Implement caching: Redis for frequently accessed data",
        "Add OpenAPI documentation: Auto-generated API docs from code"
      ]
    },
    {
      "priority": "LONG-TERM (Months 3-6)",
      "items": [
        "Migration strategy: Plan move from SQLite to PostgreSQL in production",
        "Multi-region deployment: Setup global load balancing",
        "Advanced security: 2FA, encrypted data at rest, DLP",
        "Performance optimization: CDN, image optimization, query profiling",
        "Team scaling: Code review process, pair programming, knowledge sharing"
      ]
    },
    {
      "priority": "ONGOING",
      "items": [
        "Security scanning: Regular penetration testing",
        "Dependency updates: Monthly security patches",
        "Monitoring: Alert on error rates, latency > threshold",
        "Performance: Monitor Web Vitals, optimize slow endpoints",
        "Documentation: Keep ADRs, runbooks, and API docs up-to-date"
      ]
    }
  ],
  "quick_wins": [
    {
      "title": "Remove duplicate bcrypt dependency",
      "effort": "5 min",
      "impact": "Reduce bundle by 10MB"
    },
    {
      "title": "Add .prettierrc and format all code",
      "effort": "15 min",
      "impact": "Consistent code style"
    },
    {
      "title": "Add JSDoc comments to all functions",
      "effort": "2 hours",
      "impact": "Better IDE autocomplete, documentation"
    },
    {
      "title": "Replace console.log with logger.debug()",
      "effort": "30 min",
      "impact": "Cleaner logs, easier to control verbosity"
    },
    {
      "title": "Add .env validation on app startup",
      "effort": "1 hour",
      "impact": "Fail fast if config missing"
    },
    {
      "title": "Add request/response logging middleware",
      "effort": "1 hour",
      "impact": "Better debugging capability"
    },
    {
      "title": "Implement error handling middleware",
      "effort": "2 hours",
      "impact": "Consistent error responses"
    },
    {
      "title": "Add input sanitization to Chat",
      "effort": "30 min",
      "impact": "Prevent XSS attacks"
    }
  ],
  "security_checklist": {
    "authentication": {
      "âœ“": ["JWT tokens with expiration", "Bcrypt password hashing"],
      "âœ—": ["2FA/MFA not implemented", "No refresh token rotation", "No session invalidation on logout"]
    },
    "authorization": {
      "âœ“": ["Role-based access control (admin, staff, customer)"],
      "âœ—": ["No fine-grained permissions", "No audit logging for sensitive operations"]
    },
    "data_protection": {
      "âœ“": ["HTTPS ready (deployment agnostic)"],
      "âœ—": ["No encryption at rest", "No encryption in transit for internal services", "Chat messages unencrypted"]
    },
    "api_security": {
      "âœ“": ["CORS configured", "Rate limiting present"],
      "âœ—": ["No CSRF protection", "No API versioning", "No request signing"]
    },
    "input_validation": {
      "âœ“": ["Email/phone/CEP validated"],
      "âœ—": ["No request body size limit", "No SQL injection protection beyond parameterization", "No XSS sanitization"]
    },
    "vulnerability_management": {
      "âœ“": [],
      "âœ—": ["No vulnerability scanning", "No dependabot/snyk", "No security testing"]
    }
  },
  "migration_path": {
    "current_state": "SQLite + Express + Next.js (monolith-ish)",
    "recommended_state": "PostgreSQL + Express + React + TypeScript (microservices-ready)",
    "steps": [
      {
        "phase": 1,
        "title": "Foundation (Week 1)",
        "tasks": ["Setup TypeScript", "Add Zod validation", "Implement logging", "Add tests"]
      },
      {
        "phase": 2,
        "title": "Security (Week 2)",
        "tasks": ["Fix secrets management", "Add rate limiting", "Implement CSRF protection", "Add 2FA"]
      },
      {
        "phase": 3,
        "title": "Performance (Week 3-4)",
        "tasks": ["Add database indexes", "Implement caching", "Optimize queries", "Add monitoring"]
      },
      {
        "phase": 4,
        "title": "Scalability (Month 2)",
        "tasks": ["Migrate to PostgreSQL", "Add API versioning", "Implement pagination", "Setup backups"]
      }
    ]
  },
  "estimated_effort": {
    "critical_fixes": "2-3 weeks",
    "high_priority_improvements": "3-4 weeks",
    "medium_priority_improvements": "2-3 months",
    "full_recommendations": "6-9 months",
    "team_size_recommended": "2-3 developers"
  }
}
