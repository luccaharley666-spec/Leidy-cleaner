# Backend environment variables (example)
PORT=3000
NODE_ENV=development

# JWT
JWT_SECRET=dev_jwt_secret_change_me

# Database (SQLite path)
DATABASE_URL=backend_data/database.db

# Email (nodemailer)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=you@example.com
SMTP_PASS=change_me

# Twilio (SMS/WhatsApp)
TWILIO_ACCOUNT_SID=ACxxxx
TWILIO_AUTH_TOKEN=xxxx
TWILIO_FROM=+15556667777

# Stripe (if used)
STRIPE_SECRET_KEY=sk_test_xxx

# PIX / Bank webhook secret used to validate HMAC signature
WEBHOOK_SECRET_PIX=change_this_to_secure_value

# Redis for Bull queues (optional)
REDIS_URL=redis://127.0.0.1:6379
USE_BULL=true
# ============================================
# ARQUIVO .env - VARIÁVEIS DE AMBIENTE
# ============================================

# ===== SERVIDOR =====
PORT=3001
NODE_ENV=development
APP_URL=http://localhost:3001

# ===== BANCO DE DADOS =====
# Para desenvolvimento local (SQLite):
DATABASE_LOCAL=./database.sqlite

# Para produção (PostgreSQL):
DATABASE_URL=postgresql://user:password@localhost:5432/leidy_cleaner

# ===== JWT - AUTENTICAÇÃO =====
JWT_SECRET=[REDACTED_TOKEN]
JWT_REFRESH_SECRET=[REDACTED_TOKEN]
JWT_EXPIRES_IN=24h
[REDACTED_TOKEN]=7d

# ===== EMAIL - NODEMAILER =====
# Gmail: Usar senha de app (não senha comum)
# Ativar: https://accounts.google.com/b/0/AppPasswords
EMAIL_USER=seu_email@gmail.com
EMAIL_PASS=[REDACTED_TOKEN]
EMAIL_FROM=noreply@leidycleaner.com.br

# ===== SMS - TWILIO =====
# Criar conta em: https://www.twilio.com
TWILIO_ACCOUNT_SID=[REDACTED_TOKEN]
TWILIO_AUTH_TOKEN=[REDACTED_TOKEN]
TWILIO_PHONE_NUMBER=+5511987654321

# ===== PAGAMENTO - STRIPE =====
# Chaves de teste: https://dashboard.stripe.com/test/apikeys
# NUNCA usar chaves reais em desenvolvimento!
STRIPE_SECRET_KEY=[REDACTED_TOKEN]
STRIPE_PUBLIC_KEY=[REDACTED_TOKEN]
[REDACTED_TOKEN]=[REDACTED_TOKEN]

# ===== SOCKET.IO - CHAT =====
SOCKETIO_ENABLED=true
SOCKETIO_PATH=/socket.io
[REDACTED_TOKEN]=http://localhost:3001,http://localhost:3000

# ===== CLOUD STORAGE (Opcional - para fotos) =====
# AWS S3
[REDACTED_TOKEN]=seu_aws_key
[REDACTED_TOKEN]=sua_aws_secret
AWS_S3_BUCKET=seu_bucket_name
AWS_S3_REGION=us-east-1

# ===== GOOGLE MAPS =====
GOOGLE_MAPS_API_KEY=[REDACTED_TOKEN]

# ===== LOGGING =====
LOG_LEVEL=debug
LOG_FILE=./logs/app.log

# ===== FEATURES FLAGS =====
ENABLE_EMAIL=true
ENABLE_SMS=true
ENABLE_CHAT=true
ENABLE_PHOTOS=true
ENABLE_RECURRING=true

# ===== CONFIGURAÇÕES DE NEGÓCIO =====
[REDACTED_TOKEN]=10
[REDACTED_TOKEN]=100
[REDACTED_TOKEN]=10
[REDACTED_TOKEN]=10
MAX_UPLOAD_SIZE=10485760

# ===== CORS - Domini\u0301os permitidos (separados por v\u00edrgula) =====
CORS_ORIGIN=http://localhost:3001,http://localhost:3000,https://seu_dominio.com

# ===== COOKIE (REFRESH TOKEN) =====
# Controla como o refresh token é enviado como cookie HttpOnly
# Em produção, defina COOKIE_SECURE=true para exigir HTTPS.
# Observação: se usar SameSite=None é obrigatório ter COOKIE_SECURE=true.
COOKIE_SECURE=false
COOKIE_SAMESITE=Lax
COOKIE_DOMAIN=localhost
COOKIE_PATH=/

# ===== RATE LIMITING - Configura\u00e7\u00f5es de limite de requisi\u00e7\u00f5es =====
# Janela de tempo global (ms) - default: 900000 (15 minutos)
RATE_LIMIT_WINDOW_MS=900000
# M\u00e1ximo de requisi\u00f5es por IP na janela global - default: 100
RATE_LIMIT_MAX_REQUESTS=100
# M\u00e1ximo de tentativas de login/auth - default: 5
AUTH_LIMIT_MAX_REQUESTS=5
# Janela de tempo para API (ms) - default: 60000 (1 minuto)
API_LIMIT_WINDOW_MS=60000
# M\u00e1ximo de requisi\u00f5es API por minuto - default: 30
API_LIMIT_MAX_REQUESTS=30

# ===== BANCO DE DADOS - POOL (PostgreSQL) =====
# Mínimo de conexões no pool - default: 2
DB_POOL_MIN=2
# Máximo de conexões no pool - default: 20 (aumente para produção com alto tráfego)
DB_POOL_MAX=20
# Timeout para conexão inativa (ms) - default: 30000 (30 seg)
DB_IDLE_TIMEOUT_MS=30000
# Timeout para estabelecer conexão (ms) - default: 5000 (5 seg)
DB_CONNECTION_TIMEOUT_MS=5000
# Timeout para execução de query (ms) - default: 30000 (30 seg)
DB_STATEMENT_TIMEOUT_MS=30000
# Rejeitar certificados SSL inválidos em produção
DB_SSL_REJECT_UNAUTHORIZED=true

# ===== SENTRY - Error Tracking & Monitoring =====
# DSN do Sentry (opcional - deixe vazio para desabilitar)
SENTRY_DSN=
# Ambiente para logs (development, staging, production)
SENTRY_ENVIRONMENT=development

# ===== CACHE STRATEGY (Redis) =====
# Já configurado acima em REDIS_URL
# Estratégia de TTL:
# - short: 5 minutos (para dados que mudam frequentemente)
# - medium: 30 minutos (para perfil de usuário, listas)
# - long: 2 horas (para config, dados admin)
